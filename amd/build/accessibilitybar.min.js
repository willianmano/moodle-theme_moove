/**
 * Contain the logic for accessibility bar.
 *
 * @package

 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_moove/accessibilitybar",["jquery","core/ajax"],(function(jQuery,Ajax){window.jQuery=jQuery;var SELECTORS_FONT_SIZE="#fontsize_dec, #fontsize_reset, #fontsize_inc",SELECTORS_SITE_COLOR="#sitecolor_color1, #sitecolor_color2, #sitecolor_color3, #sitecolor_color4",fontsizeClass=null,fontsizeClassOp=null,fontsizeClassSize=null,fontsizeCurrentAction=null,sitecolorCurrentAction=null,AccessibilityBar=function(){var classList=jQuery("body").attr("class").split(/\s+/);jQuery.each(classList,(function(index,item){if(item.includes("fontsize-inc-")||item.includes("fontsize-dec-")){var itemarr=item.split("-");fontsizeClass=item,fontsizeClassOp=itemarr[1],fontsizeClassSize=itemarr[2]}})),this.toggleFontsizeButtons(),this.registerEventListeners()};return AccessibilityBar.prototype.registerEventListeners=function(){jQuery(SELECTORS_FONT_SIZE).click(function(element){var btn=jQuery(element.currentTarget);fontsizeCurrentAction=btn.data("action"),this.fontSize()}.bind(this)),jQuery(SELECTORS_SITE_COLOR).click(function(element){var btn=jQuery(element.currentTarget);sitecolorCurrentAction=btn.data("action"),this.siteColor()}.bind(this))},AccessibilityBar.prototype.fontSize=function(){Ajax.call([{methodname:"theme_moove_fontsize",args:{action:fontsizeCurrentAction}}])[0].done(function(){this.reloadFontsizeClass()}.bind(this))},AccessibilityBar.prototype.reloadFontsizeClass=function(){if("reset"===fontsizeCurrentAction||"increase"===fontsizeCurrentAction&&"fontsize-dec-1"===fontsizeClass||"decrease"===fontsizeCurrentAction&&"fontsize-inc-1"===fontsizeClass)return jQuery("body").removeClass(fontsizeClass),fontsizeClass=null,fontsizeClassOp=null,fontsizeClassSize=null,void this.toggleFontsizeButtons();"increase"===fontsizeCurrentAction&&(null===fontsizeClassSize?(fontsizeClass="fontsize-inc-1",fontsizeClassOp="inc",fontsizeClassSize=1):"inc"===fontsizeClassOp&&fontsizeClassSize<6?(jQuery("body").removeClass(fontsizeClass),fontsizeClassSize++,fontsizeClass="fontsize-inc-"+fontsizeClassSize):"dec"===fontsizeClassOp&&(jQuery("body").removeClass(fontsizeClass),fontsizeClassSize--,fontsizeClass="fontsize-dec-"+fontsizeClassSize),jQuery("body").addClass(fontsizeClass)),"decrease"===fontsizeCurrentAction&&(null===fontsizeClassSize?(fontsizeClass="fontsize-dec-1",fontsizeClassOp="dec",fontsizeClassSize=1):"dec"===fontsizeClassOp&&fontsizeClassSize<6?(jQuery("body").removeClass(fontsizeClass),fontsizeClassSize++,fontsizeClass="fontsize-dec-"+fontsizeClassSize):"inc"===fontsizeClassOp&&(jQuery("body").removeClass(fontsizeClass),fontsizeClassSize--,fontsizeClass="fontsize-inc-"+fontsizeClassSize),jQuery("body").addClass(fontsizeClass)),this.toggleFontsizeButtons()},AccessibilityBar.prototype.toggleFontsizeButtons=function(){null===fontsizeClass&&(jQuery("#fontsize_reset").addClass("disabled"),jQuery("#fontsize_inc").removeClass("disabled"),jQuery("#fontsize_dec").removeClass("disabled")),null!==fontsizeClass&&jQuery("#fontsize_reset").removeClass("disabled"),"inc"===fontsizeClassOp&&(6==fontsizeClassSize&&jQuery("#fontsize_inc").addClass("disabled"),fontsizeClassSize<6&&jQuery("#fontsize_inc").removeClass("disabled")),"dec"===fontsizeClassOp&&(6==fontsizeClassSize&&jQuery("#fontsize_dec").addClass("disabled"),fontsizeClassSize<6&&jQuery("#fontsize_dec").removeClass("disabled"))},AccessibilityBar.prototype.siteColor=function(){Ajax.call([{methodname:"theme_moove_sitecolor",args:{action:sitecolorCurrentAction}}])[0].done(function(){this.reloadSitecolorClass()}.bind(this))},AccessibilityBar.prototype.reloadSitecolorClass=function(){jQuery("body").removeClass((function(index,className){return(className.match(/(^|\s)sitecolor-color-\S+/g)||[]).join(" ")})),"reset"!==sitecolorCurrentAction&&jQuery("body").addClass(sitecolorCurrentAction)},{init:function(){return new AccessibilityBar}}}));

//# sourceMappingURL=accessibilitybar.min.js.map